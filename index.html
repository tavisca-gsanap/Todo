<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="./css/style.css" rel="stylesheet">
    <title>Main</title>
    <style>
    tr,td{
        padding: 5px;
        text-align: left;
    }
    </style>
    <style>
        .login {
            height:max-content;
            width:max-content;
            margin:auto;
            border:1px #CCC solid;
            padding:10px;
            }
    
        .login input {
            width: 100%;
            padding:5px;
            margin:5px
            }
    </style>
    <script>
        var count=0;
        function load(){
            selectPage("todo",0);
            func("Submit Assignment");
            func("Read JS");
        }
        function search(){
            var input, filter, tasks, tr, a, i, txtValue;
            input = document.getElementById("search-bar");
            filter = input.value.toUpperCase();
            tasks = document.getElementById("tasks");
            tr = tasks.getElementsByTagName("tr");
            for (i = 0; i < tr.length; i++) {
                a = tr[i].getElementsByTagName("td")[0];
                txtValue = a.textContent || a.innerText;
                if (txtValue.toUpperCase().indexOf(filter) > -1) {
                    tr[i].style.display = "";
                } else {
                    tr[i].style.display = "none";
                }
            }
        }
    function func(task){
        ++count;
        var tr = document.createElement("TR");
        tr.setAttribute("id", count);
        var td = document.createElement("TD");
        td.appendChild(document.createTextNode(task));
        tr.appendChild(td);
        var td = document.createElement("TD");
        var btn = document.createElement("BUTTON");
        btn.setAttribute("onclick","del("+count+")")
        btn.innerHTML = 'X' ;
        td.appendChild(btn);
        tr.appendChild(td);
        var td = document.createElement("TD");
        var btn = document.createElement("BUTTON");
        btn.setAttribute("onclick","edit("+count+")")
        btn.innerHTML = 'Edit' ;
        td.appendChild(btn);
        tr.appendChild(td);
        document.getElementById("tasks").appendChild(tr);
    }
    function del(task){
        var input, tasks, tr, a, i, txtValue;
        tasks = document.getElementById("tasks");
        tr = document.getElementById(task)
        tasks.removeChild(tr);
    }
    function edit(task){
        var input, tasks, tr, a, i, txtValue;
        tasks = document.getElementById("tasks");
        tr = document.getElementById(task)
        text=tr.getElementsByTagName("td")[0];
        var updatedText=prompt("Enter updated task name",text.innerHTML) 
        if(updatedText != null){
            text.innerHTML=updatedText;
        }
    }
    function selectPage(page,i){
        var card = document.getElementById("card");
        var pages = card.getElementsByTagName("div");
        pages[0].style.display='none';
        pages[1].style.display='none';
        pages[2].style.display='none';
        document.getElementById(page).style.display="";
        var as = document.getElementsByClassName("dropdown-content")[0].getElementsByTagName("a");
        for(var j=0;j<as.length;j++){
            if(j==i){
                as[i].style.backgroundColor="#6897ee";
            }
            else{
                as[j].style.backgroundColor="";
            }
        }
    }
    </script>
</head>
<body onload="load()">
    <div class="header">
        <img src="img/logo.png" style="float: left" alt="logo" height="100%" width="50px">
        <h1 style="float: center">To Do</h1>
    </div>
      
    <div class="row">
        <div class="leftcolumn">
            <div class="card">
                <div class="dropdown">
                    <div class="dropbtn">Menu</div>
                    <div class="dropdown-content">
                        <hr />
                        <a  href="#" onclick="selectPage('todo',0)">To Do</a><hr/>
                        <a  href="#" onclick="selectPage('user',1)">User</a><hr/>
                        <a  href="#" onclick="selectPage('login',2)">Login</a>
                        <hr />
                    </div>
                </div>
            </div>
        </div>
        <div class="rightcolumn">
          <div class="card" id="card">
              <div id="todo">
                <h3>Add into Todo list</h3>
                <input type="search" id="search-bar" placeholder="Search..." onkeyup="search()"> <button onclick="func(document.getElementById('search-bar').value)"> Add </button>
                <table id="tasks">
                </table>
              </div>
              <div id="user">
                <h3>User Info</h3><br><br>
                <img src="img/user.png" alt="user" max-height="500px" max-width="500px"><br>
                <br>
                Name : Govind Sanap
              </div>
              <div id="login">
                    <h3>Login Page</h3>
                    <form class="login" id="login-form">
                        <input type="text" placeholder="Username" id="username"> <br>
                        <input type="password" placeholder="Password" id="password"> <br>
                        <input type="submit" value="Sign In">
                        <a href="#" class="forgot">forgot password?</a>
                    </form>
              </div>
          </div>
        </div>
      </div>
      
      <div class="footer">
              <div class="footer-content">
                    <a  href="index.html">Home</a> | 
                    <a  href="#" >About Us</a> | 
                    <a  href="#">Contact Us</a>
                  <hr/>
              </div>
        </div>
  </body>
  </html>